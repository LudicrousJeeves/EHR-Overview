<!doctype HTML>
<html>

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <title>EHR Overview</title>
</head>

<body>

    <!--Navigation Bar -->
    <nav class="navbar navbar-dark navbar-expand-lg bg-dark">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="index.html">Electronic Health Record<span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="Report Generator.html">Report Generator</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Queue System
                    </a>
                    <div id="navBarDropDown" class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a onclick="Test()"></a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Main Text Area -->

    <div class="jumbotron">
        <div id=textArea>
            <h1 class="display-4">Choctaw Nation Queue System</h1>
            <hr class="my-4">
            <h2>What is it?</h2>
            <p id=dataSet>The Choctaw Nation Queue System is a customized component in Electronic Health Record (EHR) that helps monitor various
                <button class="btn btn-dark" type="button" data-toggle="collapse" data-target="#dataset" aria-expanded="false" aria-controls="dataset">
                    datasets
                </button>
                in real time along with giving the ability to manage the workflow of activities related to each department within a facility. The Queue is designed to easily show and filter patient information in one centralized location rather than navigating through multiple different tabs to gather required information. For example, if you only want to see scheduled patients from only one facility, then you can tell the system what facility you want to be viewing. The Queue also provides several different customized layouts that can alter the columns in the table that is shown. This customizability can make it to where there is just a quick view of a patient's information or a more detailed view of a patient's information. An example of this is if the <strong>Default Visit Layout</strong> was selected in the <button class="btn btn-dark" type="button" data-toggle="collapse" data-target="#fieldLayout" aria-expanded="false" aria-controls="fieldLayout">
                    Field Layout
                </button>, then the Queue will generate a view that is setup for that layout.</p>

            <!-- Dataset collapse content -->
            <div class="collapse" id="dataset">
                <div class="card card-body">
                    <h3 id="cardHeader" class="card-title">Datasets</h3>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6">
                                <img src=Datasets.PNG id=queueDataset alt="Datasets Example" />
                            </div>
                            <div class="col-md-6">
                                <p id=collapseText>A dataset is a collection of data. This corresponds to contents that are inside a single database table. You can find the datasets that are within the Queue by clicking on the three dots <img src="Ellipsis.PNG" alt="Ellipsis" align="middle">
                                    button and looking at the box under the <strong>"What do you wish to View/Monitor:"</strong></p>
                                <br>
                                <p id=collapseText>
                                    Based upon what keys you have, you will see a different amount of datasets. For example, if you can't see the <strong>Case Management</strong> dataset, then you don't have the correct keys to
                                    view <strong>Case Management</strong>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Field Layout collapse content -->
            <div class="collapse" id="fieldLayout">
                <div class="card card-body">
                    <h3 id="cardHeader" class="card-title">Field Layout</h3>
                    <div class=" row">
                        <div class="col-md-7">
                            <div id="cf2">
                                <img class="bottom" src=DefaultVisitLayoutExample.PNG id=defaultVisitLayoutExample alt="Default Visit Layout Example" />
                                <img class="top" src=BriefVisitLayoutExample.PNG id=defaultVisitLayoutExample alt="Brief Visit Layout Example" />
                            </div>
                            <p id="cf_onclick">Click the image to see how changing your Field Layout can change your view</p>
                        </div>
                        <div class="col-md-3">
                            <p id="collapseText">The purpose of Field Layout is to change what kind of data is displayed in the Queue. This makes it to where it is easy to customize the view according to how much information is needed. </p>
                            <p id="collapseText">If only a small amount of information is needed, then the Brief Visit Layout might be the best choice, but if more detail is preferred, then Default Visit Layout might be better. </p>
                            <p id="collapseText">Field Layout is strictly user preference, but some layouts will display better information depending on what department the user is in.</p>
                        </div>
                    </div>

                </div>


            </div>
            <p id=dataSet>The Queue system
                also provides customized layouts to help view the datasets in a different way. You can also filter the datasets by parameters. The first column of the Queue
                has a color coded status indicator for each appointment that is shown. To find out what these colors mean, you can
                view the <button class="btn btn-dark" type="button" data-toggle="collapse" data-target="#legend" aria-expanded="false" aria-controls="legend">
                    legend
                </button>
                by clicking on the three dots
                <img src="Ellipsis.PNG" alt="Ellipsis" align="middle"> button located next to the appointments bar at the top. You can filter the appointments that are shown
                to you by unchecking the checkbox at the legend. The Queue system also displays icons or color coded alerts for abnormal conditions that is configurable for
                each data field. If you hover over the data field that contains an icon or a color coded alert, then you can hover over that field and it will provide a popup
                message giving you more detail about the icon or color coded alert. Some <button class="btn btn-dark" type="button" data-toggle="collapse" data-target="#layout" aria-expanded="false" aria-controls="layout">
                    layouts
                </button>
                contain counter fields for departments like
                lab and radiology. This counter shows the number of uncompleted results by the total ordered with a flashing back-color as the overdue completion time elapses
                in 30 minute increments. Clicking on a row within the Queue selects the associated patient and visit for the EHR.
            </p>

            <!--Legend button dropdown -->
            <div class="collapse" id="legend">
                <div class="card card-body">
                    <h3 id="cardHeader" class="card-title">Legend</h3>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3">
                                <img src=Legend.PNG id=queueDataset alt="Legend Screenshot" />
                            </div>
                            <div class="col-md-9">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><strong>White:</strong> Gives the status that the patient's appointment is scheduled.</li>
                                    <li class="list-group-item"><strong>Blue:</strong> Gives the status that the patient has checked in to their appointment.</li>
                                    <li class="list-group-item"><strong>Teal:</strong> Gives the status that the patient is triaged.</li>
                                    <li class="list-group-item"><strong>Green:</strong> Gives the status that the patient has checked out of their appointment.</li>
                                    <li class="list-group-item"><strong>Yellow:</strong> Gives the status that the patient has cancelled their appointment.</li>
                                    <li class="list-group-item"><strong>Ivory:</strong> Gives the status that the patient has cancelled their appointment less than 24 hours from their scheduled appointment.</li>
                                    <li class="list-group-item"><strong>Red:</strong> Gives the status that the patient was a no call no show.</li>
                                    <li class="list-group-item"><strong>Black:</strong> Gives the status that the patient is an admin.</li>
                                    <li class="list-group-item"><strong>Orange:</strong> Gives the status that the patient has moved to a different time???</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <p id="mainText"></p>

    </div>


    <br />






    <script>
        //Global variables
        var queueOptions = ["EHR Layout", "Appointment Queue", "Case Management Queue", "Consults Queue", "Emergency Room Queue", "Inpatient Queue", "Visits Queue", "System Management"];

        //Checks to make sure that the document is ready before doing these scripts
        $(document).ready(function() {
            //Toggles image in FieldLayout
            $("#cf2").click(function() {
                $("#cf2 img.top").toggleClass("transparent");
            });

            // Only one collapse at a time
            jQuery('button').click(function(e) {
                jQuery('.collapse').collapse('hide');
            });

            createNavBarDropDown();
        });

        //Layout card generator
        function writeCard(cardHeader, cardText, cardImg, imgDescription, imgWidth, imgHeight) {
            document.getElementById("cardHeader").innerHTML = cardHeader;
            document.getElementById("cardDescription").innerHTML = cardText;

            if (cardImg === null) {
                hasBeenClicked = true;
                return;
            } else {
                hasBeenClicked = true;
                createImage(cardImg, imgDescription, imgWidth, imgHeight);
            }
        }

        //Creates an image 
        function createImage(cardImg, imgDescription, imgWidth, imgHeight) {
            var img = document.createElement("IMG");
            img.setAttribute("src", cardImg);
            img.setAttribute("width", imgWidth);
            img.setAttribute("height", imgHeight);
            img.setAttribute("id", "createdImg")
            img.setAttribute("alt", imgDescription);
            document.getElementById("cardDescription").appendChild(img);
        }

        //Creates the Options for the drop down on the Navigation Bar Drop down
        function createNavBarDropDown() {
            for (i = 0; i < window.queueOptions.length; i++) {
                var dropdown = document.createElement("a");
                dropdown.setAttribute("class", "dropdown-item");
                var dropdownNode = document.createTextNode(window.queueOptions[i]);
                dropdown.appendChild(dropdownNode);

                var element = document.getElementById("navBarDropDown");
                element.appendChild(dropdown);

                dropdown.onclick = function() {
                    console.log(window.queueOptions[0]);
                    $("#mainText").load(window.queueOptions[0] +
                        ".html");
                }
            }
        }

        //Navigates to other page
        function navigateToPage(index) {
            document.getElementById("ehrOverview").innerHTML = '<object type="text/html" data="home'
        }

    </script>
</body>

</html>
